{"remainingRequest":"/Users/kyletretina/Desktop/sofia/node_modules/babel-loader/lib/index.js!/Users/kyletretina/Desktop/sofia/node_modules/eslint-loader/index.js??ref--13-0!/Users/kyletretina/Desktop/sofia/src/store/index.js","dependencies":[{"path":"/Users/kyletretina/Desktop/sofia/src/store/index.js","mtime":1594596189690},{"path":"/Users/kyletretina/Desktop/sofia/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kyletretina/Desktop/sofia/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kyletretina/Desktop/sofia/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9reWxldHJldGluYS9EZXNrdG9wL3NvZmlhL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0ICogYXMgZmIgZnJvbSAnLi4vZmlyZWJhc2UnOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlci9pbmRleCc7ClZ1ZS51c2UoVnVleCk7IC8vIHJlYWx0aW1lIGZpcmViYXNlCgpmYi5wb3N0c0NvbGxlY3Rpb24ub3JkZXJCeSgnY3JlYXRlZE9uJywgJ2Rlc2MnKS5vblNuYXBzaG90KGZ1bmN0aW9uIChzbmFwc2hvdCkgewogIHZhciBwb3N0c0FycmF5ID0gW107CiAgc25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICB2YXIgcG9zdCA9IGRvYy5kYXRhKCk7CiAgICBwb3N0LmlkID0gZG9jLmlkOwogICAgcG9zdHNBcnJheS5wdXNoKHBvc3QpOwogIH0pOwogIHN0b3JlLmNvbW1pdCgnc2V0UG9zdHMnLCBwb3N0c0FycmF5KTsKfSk7CnZhciBzdG9yZSA9IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdXNlclByb2ZpbGU6IHt9LAogICAgcG9zdHM6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFVzZXJQcm9maWxlOiBmdW5jdGlvbiBzZXRVc2VyUHJvZmlsZShzdGF0ZSwgdmFsKSB7CiAgICAgIHN0YXRlLnVzZXJQcm9maWxlID0gdmFsOwogICAgfSwKICAgIHNldFBlcmZvcm1pbmdSZXF1ZXN0OiBmdW5jdGlvbiBzZXRQZXJmb3JtaW5nUmVxdWVzdChzdGF0ZSwgdmFsKSB7CiAgICAgIHN0YXRlLnBlcmZvcm1pbmdSZXF1ZXN0ID0gdmFsOwogICAgfSwKICAgIHNldFBvc3RzOiBmdW5jdGlvbiBzZXRQb3N0cyhzdGF0ZSwgdmFsKSB7CiAgICAgIHN0YXRlLnBvc3RzID0gdmFsOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIGZvcm0pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIF95aWVsZCRmYiRhdXRoJHNpZ25JbiwgdXNlcjsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmIuYXV0aC5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChmb3JtLmVtYWlsLCBmb3JtLnBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJGZiJGF1dGgkc2lnbkluID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHVzZXIgPSBfeWllbGQkZmIkYXV0aCRzaWduSW4udXNlcjsKICAgICAgICAgICAgICAgIC8vIGZldGNoIHVzZXIgcHJvZmlsZSBhbmQgc2V0IGluIHN0YXRlCiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnZmV0Y2hVc2VyUHJvZmlsZScsIHVzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2lnbnVwOiBmdW5jdGlvbiBzaWdudXAoX3JlZjIsIGZvcm0pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGRpc3BhdGNoLCBfeWllbGQkZmIkYXV0aCRjcmVhdGUsIHVzZXI7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLmF1dGguY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGZvcm0uZW1haWwsIGZvcm0ucGFzc3dvcmQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkZmIkYXV0aCRjcmVhdGUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHVzZXIgPSBfeWllbGQkZmIkYXV0aCRjcmVhdGUudXNlcjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBmYi51c2Vyc0NvbGxlY3Rpb24uZG9jKHVzZXIudWlkKS5zZXQoewogICAgICAgICAgICAgICAgICBuYW1lOiBmb3JtLm5hbWUsCiAgICAgICAgICAgICAgICAgIHRpdGxlOiBmb3JtLnRpdGxlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgLy8gZmV0Y2ggdXNlciBwcm9maWxlIGFuZCBzZXQgaW4gc3RhdGUKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdmZXRjaFVzZXJQcm9maWxlJywgdXNlcik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZldGNoVXNlclByb2ZpbGU6IGZ1bmN0aW9uIGZldGNoVXNlclByb2ZpbGUoX3JlZjMsIHVzZXIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdXNlclByb2ZpbGU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmYi51c2Vyc0NvbGxlY3Rpb24uZG9jKHVzZXIudWlkKS5nZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgdXNlclByb2ZpbGUgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIC8vIHNldCB1c2VyIHByb2ZpbGUgaW4gc3RhdGUKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0VXNlclByb2ZpbGUnLCB1c2VyUHJvZmlsZS5kYXRhKCkpOyAvLyBjaGFuZ2Ugcm91dGUgdG8gZGFzaGJvYXJkCgogICAgICAgICAgICAgICAgaWYgKHJvdXRlci5jdXJyZW50Um91dGUucGF0aCA9PT0gJy9sb2dpbicpIHsKICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy8nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLmF1dGguc2lnbk91dCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAvLyBjbGVhciB1c2VyIGRhdGEgZnJvbSBzdGF0ZQogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VyUHJvZmlsZScsIHt9KTsgLy8gcmVkaXJlY3QgdG8gbG9naW4gdmlldwoKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3JlYXRlUG9zdDogZnVuY3Rpb24gY3JlYXRlUG9zdChfcmVmNSwgcG9zdCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZSwgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLnBvc3RzQ29sbGVjdGlvbi5hZGQoewogICAgICAgICAgICAgICAgICBjcmVhdGVkT246IG5ldyBEYXRlKCksCiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHBvc3QuY29udGVudCwKICAgICAgICAgICAgICAgICAgdXNlcklkOiBmYi5hdXRoLmN1cnJlbnRVc2VyLnVpZCwKICAgICAgICAgICAgICAgICAgdXNlck5hbWU6IHN0YXRlLnVzZXJQcm9maWxlLm5hbWUsCiAgICAgICAgICAgICAgICAgIGNvbW1lbnRzOiAwLAogICAgICAgICAgICAgICAgICBsaWtlczogMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxpa2VQb3N0OiBmdW5jdGlvbiBsaWtlUG9zdChfcmVmNiwgcG9zdCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgY29tbWl0LCB1c2VySWQsIGRvY0lkLCBkb2M7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY2LmNvbW1pdDsKICAgICAgICAgICAgICAgIHVzZXJJZCA9IGZiLmF1dGguY3VycmVudFVzZXIudWlkOwogICAgICAgICAgICAgICAgZG9jSWQgPSAiIi5jb25jYXQodXNlcklkLCAiXyIpLmNvbmNhdChwb3N0LmlkKTsgLy8gY2hlY2sgaWYgdXNlciBoYXMgbGlrZWQgcG9zdAoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmYi5saWtlc0NvbGxlY3Rpb24uZG9jKGRvY0lkKS5nZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZG9jID0gX2NvbnRleHQ2LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFkb2MuZXhpc3RzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLmxpa2VzQ29sbGVjdGlvbi5kb2MoZG9jSWQpLnNldCh7CiAgICAgICAgICAgICAgICAgIHBvc3RJZDogcG9zdC5pZCwKICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgLy8gdXBkYXRlIHBvc3QgbGlrZXMgY291bnQKICAgICAgICAgICAgICAgIGZiLnBvc3RzQ29sbGVjdGlvbi5kb2MocG9zdC5pZCkudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgbGlrZXM6IHBvc3QubGlrZXNDb3VudCArIDEKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlUHJvZmlsZTogZnVuY3Rpb24gdXBkYXRlUHJvZmlsZShfcmVmNywgdXNlcikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIHVzZXJJZCwgdXNlclJlZiwgcG9zdERvY3MsIGNvbW1lbnREb2NzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWY3LmRpc3BhdGNoOwogICAgICAgICAgICAgICAgdXNlcklkID0gZmIuYXV0aC5jdXJyZW50VXNlci51aWQ7IC8vIHVwZGF0ZSB1c2VyIG9iamVjdAoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmYi51c2Vyc0NvbGxlY3Rpb24uZG9jKHVzZXJJZCkudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLAogICAgICAgICAgICAgICAgICB0aXRsZTogdXNlci50aXRsZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHVzZXJSZWYgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdmZXRjaFVzZXJQcm9maWxlJywgewogICAgICAgICAgICAgICAgICB1aWQ6IHVzZXJJZAogICAgICAgICAgICAgICAgfSk7IC8vIHVwZGF0ZSBhbGwgcG9zdHMgYnkgdXNlcgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBmYi5wb3N0c0NvbGxlY3Rpb24ud2hlcmUoJ3VzZXJJZCcsICc9PScsIHVzZXJJZCkuZ2V0KCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHBvc3REb2NzID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBwb3N0RG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICAgICAgZmIucG9zdHNDb2xsZWN0aW9uLmRvYyhkb2MuaWQpLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgdXNlck5hbWU6IHVzZXIubmFtZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOyAvLyB1cGRhdGUgYWxsIGNvbW1lbnRzIGJ5IHVzZXIKCiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLmNvbW1lbnRzQ29sbGVjdGlvbi53aGVyZSgndXNlcklkJywgJz09JywgdXNlcklkKS5nZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGNvbW1lbnREb2NzID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBjb21tZW50RG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICAgICAgZmIuY29tbWVudHNDb2xsZWN0aW9uLmRvYyhkb2MuaWQpLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgdXNlck5hbWU6IHVzZXIubmFtZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgc3RvcmU7"},{"version":3,"sources":["/Users/kyletretina/Desktop/sofia/src/store/index.js"],"names":["Vue","Vuex","fb","router","use","postsCollection","orderBy","onSnapshot","snapshot","postsArray","forEach","doc","post","data","id","push","store","commit","Store","state","userProfile","posts","mutations","setUserProfile","val","setPerformingRequest","performingRequest","setPosts","actions","login","form","dispatch","auth","signInWithEmailAndPassword","email","password","user","signup","createUserWithEmailAndPassword","usersCollection","uid","set","name","title","fetchUserProfile","get","currentRoute","path","logout","signOut","createPost","add","createdOn","Date","content","userId","currentUser","userName","comments","likes","likePost","docId","likesCollection","exists","postId","update","likesCount","updateProfile","userRef","where","postDocs","commentsCollection","commentDocs"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport * as fb from '../firebase'\nimport router from '../router/index'\n\nVue.use(Vuex)\n\n// realtime firebase\nfb.postsCollection.orderBy('createdOn', 'desc').onSnapshot(snapshot => {\n  let postsArray = []\n\n  snapshot.forEach(doc => {\n    let post = doc.data()\n    post.id = doc.id\n\n    postsArray.push(post)\n  })\n\n  store.commit('setPosts', postsArray)\n})\n\nconst store = new Vuex.Store({\n  state: {\n    userProfile: {},\n    posts: []\n  },\n  mutations: {\n    setUserProfile(state, val) {\n      state.userProfile = val\n    },\n    setPerformingRequest(state, val) {\n      state.performingRequest = val\n    },\n    setPosts(state, val) {\n      state.posts = val\n    }\n  },\n  actions: {\n    async login({ dispatch }, form) {\n      // sign user in\n      const { user } = await fb.auth.signInWithEmailAndPassword(form.email, form.password)\n\n      // fetch user profile and set in state\n      dispatch('fetchUserProfile', user)\n    },\n    async signup({ dispatch }, form) {\n      // sign user up\n      const { user } = await fb.auth.createUserWithEmailAndPassword(form.email, form.password)\n\n      // create user object in userCollections\n      await fb.usersCollection.doc(user.uid).set({\n        name: form.name,\n        title: form.title\n      })\n\n      // fetch user profile and set in state\n      dispatch('fetchUserProfile', user)\n    },\n    async fetchUserProfile({ commit }, user) {\n      // fetch user profile\n      const userProfile = await fb.usersCollection.doc(user.uid).get()\n\n      // set user profile in state\n      commit('setUserProfile', userProfile.data())\n\n      // change route to dashboard\n      if (router.currentRoute.path === '/login') {\n        router.push('/')\n      }\n    },\n    async logout({ commit }) {\n      // log user out\n      await fb.auth.signOut()\n\n      // clear user data from state\n      commit('setUserProfile', {})\n\n      // redirect to login view\n      router.push('/login')\n    },\n    async createPost({ state, commit }, post) {\n      // create post in firebase\n      await fb.postsCollection.add({\n        createdOn: new Date(),\n        content: post.content,\n        userId: fb.auth.currentUser.uid,\n        userName: state.userProfile.name,\n        comments: 0,\n        likes: 0\n      })\n    },\n    async likePost ({ commit }, post) {\n      const userId = fb.auth.currentUser.uid\n      const docId = `${userId}_${post.id}`\n\n      // check if user has liked post\n      const doc = await fb.likesCollection.doc(docId).get()\n      if (doc.exists) { return }\n\n      // create post\n      await fb.likesCollection.doc(docId).set({\n        postId: post.id,\n        userId: userId\n      })\n\n      // update post likes count\n      fb.postsCollection.doc(post.id).update({\n        likes: post.likesCount + 1\n      })\n    },\n    async updateProfile({ dispatch }, user) {\n      const userId = fb.auth.currentUser.uid\n      // update user object\n      const userRef = await fb.usersCollection.doc(userId).update({\n        name: user.name,\n        title: user.title\n      })\n\n      dispatch('fetchUserProfile', { uid: userId })\n\n      // update all posts by user\n      const postDocs = await fb.postsCollection.where('userId', '==', userId).get()\n      postDocs.forEach(doc => {\n        fb.postsCollection.doc(doc.id).update({\n          userName: user.name\n        })\n      })\n\n      // update all comments by user\n      const commentDocs = await fb.commentsCollection.where('userId', '==', userId).get()\n      commentDocs.forEach(doc => {\n        fb.commentsCollection.doc(doc.id).update({\n          userName: user.name\n        })\n      })\n    }\n  }\n})\n\nexport default store\n"]}]}